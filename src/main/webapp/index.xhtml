<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

<h:head>
	<title>#{msgs.apptitle}</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="shortcut icon"
		href="#{request.contextPath}/images/favicon.ico" />
	<link href="./css/style.css" rel="stylesheet" type="text/css" />

	<style type="text/css">
html {
	margin: 0px;
	padding: 0px;
	overflow-y: scroll;
}

#container {
	margin: 0px;
	padding: 0px;
	width: 100%;
}

#header {
	width: 100%;
	margin: 0px;
	height: 75px;
}

#leftbar {
	width: 200px;
	float: left;
}

#content {
	float: left;
	margin: 3px;
}

#footer {
	clear: both;
}

.column1 {
	width: 50%;
	text-align: left;
}

.column2 {
	width: 50%;
	text-align: right;
}
</style>

</h:head>
<body>
	<h:panelGroup id="container">

		<h:panelGroup id="header" layout="block">
			<h:panelGrid width="100%" columns="2" cellspacing="10"
				columnClasses="column1,column2">
				<h:graphicImage id="logo" alt="logo" url="/images/logo.png" />
				<h:panelGroup>
					<h:outputText value="#{msgs.loggedInAs}: #{user.name}" style="font-weight:bold;"/>
				    &nbsp;&nbsp;&nbsp;
				    <h:graphicImage id="exit" alt="logo" url="/images/exit.png">
						<a4j:ajax execute="@this" event="click"
							listener="#{quoteController.logout}" render="mainArea">
						</a4j:ajax>
					</h:graphicImage>
				</h:panelGroup>
			</h:panelGrid>

		</h:panelGroup>

		<h:panelGroup id="leftbar" layout="block"></h:panelGroup>

		<a4j:status id="waitstatus" forceId="false"
			onstart="#{rich:component('statusPane')}.show()"
			onstop="#{rich:component('statusPane')}.hide()" />

		<h:form id="quoteForm">

			<a4j:outputPanel id="messages" ajaxRendered="true">
				<rich:messages />
			</a4j:outputPanel>

			<rich:popupPanel id="statusPane" autosized="true">
				<h:graphicImage value="./images/ajax-loader.gif" alt="ajax-loader" />
			</rich:popupPanel>

			<h:panelGroup id="content" layout="block">

				<h:panelGroup id="mainArea" layout="block">
					<ui:include src="/WEB-INF/pages/errorpanel.xhtml" />
					<h:panelGroup layout="block">
						<ui:include src="#{quoteController.mainArea.template}" />
					</h:panelGroup>
				</h:panelGroup>
			</h:panelGroup>

		</h:form>

		<h:panelGroup id="footer" layout="block">

		</h:panelGroup>

	</h:panelGroup>
</body>
</html>
