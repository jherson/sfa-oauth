<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">

<a4j:outputPanel id="quoteManager">

    <rich:toolbar height="20px" itemSeparator="grid">

		<rich:toolbarGroup location="left">

			<a4j:commandLink id="new" value="#{msgs.new}"
				action="#{quoteController.newQuote(opportunity)}" render="mainArea"
				ajaxSingle="true">
			</a4j:commandLink>

			<a4j:commandLink value="#{msgs.refresh}" ajaxSingle="false"
				immediate="false" render="quoteList"
				action="#{quoteController.refresh()}">
			</a4j:commandLink>

		</rich:toolbarGroup>
	</rich:toolbar>

	<h:panelGrid width="100%" columns="1" cellpadding="3">
		<h:panelGroup layout="block">
			<h:graphicImage value="./images/quote.png"
				style="vertical-align: middle" />
			<h:outputText value=" " escape="false" />
			<h:outputText value="#{msgs.headerTitle}"
				style="font-weight:bold; font-size: 18px;" />
		</h:panelGroup>
		<h:panelGroup layout="block">
			<h:selectOneMenu value="#{quoteReports.selectedReport}"
				style="width: 250px;">

				<f:selectItems value="#{quoteReports.quoteReportsList}" />

				<a4j:ajax event="valueChange" render="@this" status="ajaxStatus" />
			</h:selectOneMenu>

			<a4j:commandButton value="#{msgs.go}"
				action="#{quoteReports.runReport()}" render="quoteList"
				ajaxSingle="true">
			</a4j:commandButton>

		</h:panelGroup>
	</h:panelGrid>	

	<ui:include src="quotelist.xhtml" />

</a4j:outputPanel>
</ui:composition>