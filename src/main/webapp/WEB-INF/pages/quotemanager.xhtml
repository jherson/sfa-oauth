<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">

	<a4j:outputPanel>

		<rich:panel>

			<h:panelGrid width="100%" columns="1" cellpadding="3">
				<h:panelGroup layout="block">
					<h:graphicImage value="./images/quote.png"
						style="vertical-align: middle" />
					<h:outputText value=" " escape="false" />
					<h:outputText value="#{msgs.headerTitle}"
						style="font-weight:bold; font-size: 18px;" />
				</h:panelGroup>

			</h:panelGrid>

			<hr />

			<h:panelGrid width="100%" columns="2" cellpadding="3"
				styleClass="grid_panels" columnClasses="column75,column25">

				<h:panelGroup layout="block">

					<h:outputText value="#{msgs.quoteListHeader}"
						style="font-weight: bold" />
						
					<h:outputText value=" [#{quoteList.size()}]"
						style="font-weight: bold" />

					<br />

					<rich:panel style="text-align: center; border: 0px;">

						<h:selectOneMenu value="#{quoteReports.selectedReport}"
							style="width: 200px;">

							<f:selectItems value="#{quoteReports.quoteReportsList}" />

							<a4j:ajax event="valueChange" render="@this" status="ajaxStatus" />
						</h:selectOneMenu>

						<a4j:commandButton value="#{msgs.go}" styleClass="commandButton"
							action="#{quoteReports.runReport()}" render="quoteList"
							ajaxSingle="true">
						</a4j:commandButton>

						<a4j:commandButton id="new" styleClass="commandButton"
							value="#{msgs.new}"
							action="#{quoteController.newQuote(opportunity)}"
							render="mainArea" ajaxSingle="true" />

						<a4j:commandButton id="refresh" styleClass="commandButton"
							value="#{msgs.refresh}" ajaxSingle="true" render="quoteForm"
							action="#{quoteManagerController.refresh()}" />
							
						<a4j:commandButton id="refreshFeed" styleClass="commandButton"
							value="Refresh Feed" ajaxSingle="true"
							action="#{quoteManagerController.refresh()}" />	

					</rich:panel>

					<ui:include src="quotelist.xhtml" />

				</h:panelGroup>

				<h:panelGroup layout="block">

				</h:panelGroup>

			</h:panelGrid>
		</rich:panel>

	</a4j:outputPanel>
</ui:composition>